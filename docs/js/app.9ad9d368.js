(function(){"use strict";var i={8265:function(i,e,t){var s=t(9242),a=t(3396);function h(i,e,t,s,h,n){const r=(0,a.up)("BrickBreaker");return(0,a.wg)(),(0,a.j4)(r)}var n=t.p+"img/volume.708aa8ec.png";const r=i=>((0,a.dD)("data-v-27c51f3f"),i=i(),(0,a.Cn)(),i),g={class:"brickBreaker",align:"center"},o=["width"],m={class:"volume"},c=r((()=>(0,a._)("img",{src:n,width:"30",height:"30"},null,-1))),u=["value"],l=r((()=>(0,a._)("div",null,[(0,a._)("p",null,"Enterキーを押すとスタートするのじゃ！"),(0,a._)("p",null,"左右のカーソルキーで操作するのじゃ！")],-1)));function d(i,e,t,s,h,n){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",g,[(0,a._)("canvas",{ref:"brickBreakerCanvas",width:h.canvasWidth,height:"540"},null,8,o)]),(0,a._)("div",m,[c,(0,a._)("input",{type:"range",ref:"volumeSlider",max:"1",min:"0",step:"0.01",value:h.volumeValue,onChange:e[0]||(e[0]=(...i)=>n.onVolumeChange&&n.onVolumeChange(...i))},null,40,u)]),l],64)}var f={name:"BrickBreaker",data(){return{x:0,y:0,dx:2,dy:3,ballRadius:10,breakSe:[new Audio(t(8063)),new Audio(t(5358)),new Audio(t(6635)),new Audio(t(8297)),new Audio(t(4343)),new Audio(t(5320)),new Audio(t(8781)),new Audio(t(6127)),new Audio(t(1257))],gameOverSe:new Audio(t(2226)),ikkitsuukanSe:new Audio(t(989)),reachSe:new Audio(t(2137)),clearSe:[new Audio(t(7453)),new Audio(t(1953))],paddleX:0,rightPressed:!1,leftPressed:!1,interval:0,brickRowCount:5,brickColumnCount:14,brickWidth:80,brickHeight:30,brickPadding:.1,brickOffsetTop:30,brickOffsetLeft:30,bricks:[],bgImage:new Image,mosaicBgImage:0,mosaicSize:30,ikkitsuukan:!1,isReach:!1,isGameCleared:!1,isGameOver:!1,volumeValue:.3,canvasWidth:960,playing:!1,tenbouImage:new Image,threeColorRuns:["/images/p_ms1_1.gif","/images/p_ms2_1.gif","/images/p_ms3_1.gif","/images/p_ss1_1.gif","/images/p_ss2_1.gif","/images/p_ss3_1.gif","/images/p_ps1_1.gif","/images/p_ps2_1.gif","/images/p_ps3_1.gif","/images/p_ms7_1.gif","/images/p_ms8_1.gif","/images/p_ms9_1.gif","/images/p_ms9_1.gif","/images/p_ms9_1.gif"],thirteenOrphans:["/images/p_ms1_1.gif","/images/p_ms9_1.gif","/images/p_ss1_1.gif","/images/p_ss9_1.gif","/images/p_ps1_1.gif","/images/p_ps9_1.gif","/images/p_ji_e_1.gif","/images/p_ji_s_1.gif","/images/p_ji_w_1.gif","/images/p_ji_n_1.gif","/images/p_no_1.gif","/images/p_ji_h_1.gif","/images/p_ji_c_1.gif","/images/p_ji_c_1.gif"],allGreens:["/images/p_ss2_1.gif","/images/p_ss2_1.gif","/images/p_ss3_1.gif","/images/p_ss3_1.gif","/images/p_ss4_1.gif","/images/p_ss4_1.gif","/images/p_ss6_1.gif","/images/p_ss6_1.gif","/images/p_ss8_1.gif","/images/p_ss8_1.gif","/images/p_ss8_1.gif","/images/p_ji_h_1.gif","/images/p_ji_h_1.gif","/images/p_ji_h_1.gif"],bigDragons:["/images/p_no_1.gif","/images/p_no_1.gif","/images/p_no_1.gif","/images/p_ji_h_1.gif","/images/p_ji_h_1.gif","/images/p_ji_h_1.gif","/images/p_ji_c_1.gif","/images/p_ji_c_1.gif","/images/p_ji_c_1.gif","/images/p_ji_e_1.gif","/images/p_ji_e_1.gif","/images/p_ji_e_1.gif","/images/p_ji_s_1.gif","/images/p_ji_s_1.gif"],nineGates:["/images/p_ms1_1.gif","/images/p_ms1_1.gif","/images/p_ms1_1.gif","/images/p_ms1_1.gif","/images/p_ms2_1.gif","/images/p_ms3_1.gif","/images/p_ms4_1.gif","/images/p_ms5_1.gif","/images/p_ms6_1.gif","/images/p_ms7_1.gif","/images/p_ms8_1.gif","/images/p_ms9_1.gif","/images/p_ms9_1.gif","/images/p_ms9_1.gif"]}},mounted(){this.bgImage.src=t(9435),this.bgImage.onload=function(){this.loaded=!0},this.tenbouImage.src=t(6322);let i=localStorage.getItem("volumeValue");0!==i&&(this.volumeValue=i),this.breakSe.forEach((i=>i.volume=this.volumeValue)),this.gameOverSe.volume=this.volumeValue,this.gameOverSe.onended=function(){alert("もう一回チャレンジするのじゃ！"),document.location.reload(),clearInterval(this.interval)},this.ikkitsuukanSe.volume=this.volumeValue,this.reachSe.volume=this.volumeValue,this.clearSe.forEach((i=>i.volume=this.volumeValue)),this.clearSe.forEach((i=>i.onended=function(){alert("お見事なのじゃ！"),document.location.reload(),clearInterval(this.interval)})),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp);let e=[this.nineGates,this.bigDragons,this.allGreens,this.thirteenOrphans,this.threeColorRuns];for(let t=0;t<this.brickRowCount;t++){this.bricks[t]=[];for(let i=0;i<this.brickColumnCount;i++)this.bricks[t][i]={x:0,y:0,exists:!0,image:new Image},this.bricks[t][i].image.src=e[t][i]}this.brickWidth=this.bricks[0][0].image.width,this.brickHeight=this.bricks[0][0].image.height,this.canvasWidth=this.bricks[0][0].image.width*this.brickColumnCount+60,this.x=this.canvasWidth/2,this.y=this.canvas.height-30,this.paddleX=(this.canvasWidth-this.tenbouImage.width)/2,this.interval=setInterval(this.draw,10)},computed:{canvas(){return this.$refs["brickBreakerCanvas"]},ctx(){return this.canvas.getContext("2d")}},methods:{drawBall:function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.ballRadius,0,2*Math.PI),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()},draw:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBgImage(),this.drawBall(),this.drawTenbouImage(),this.drawBricks(),this.collisionDetection(),this.playing&&(this.x+=this.dx,this.y+=this.dy,(this.x+this.dx>this.canvas.width-this.ballRadius||this.x+this.dx<this.ballRadius)&&(this.dx=-this.dx),this.y+this.dy<this.ballRadius?this.dy=-this.dy:this.y+this.dy>this.canvas.height-this.ballRadius&&(this.x>this.paddleX&&this.x<this.paddleX+this.tenbouImage.width?this.x>this.paddleX+8*this.tenbouImage.width/17&&this.x<this.paddleX+9*this.tenbouImage.width/17?(this.dy=this.dy>0?-5:5,this.dx=this.dx>0?1:-1,this.ikkitsuukan=!0,this.isGameOver||this.ikkitsuukanSe.play()):this.x>this.paddleX+this.tenbouImage.width/4&&this.x<this.paddleX+3*this.tenbouImage.width/4?(this.dy=this.dy>0?-3:3,this.dx=this.dx>0?1:-1,this.ikkitsuukan=!1):(this.dy=this.dy>0?-3:3,this.dx=this.dx>0?2:-2,this.ikkitsuukan=!1):this.isGameCleared||this.isGameOver||(this.isGameOver=!0,this.gameOverSe.play())),this.rightPressed?this.paddleX=Math.min(this.paddleX+5,this.canvas.width-this.tenbouImage.width):this.leftPressed&&(this.paddleX=Math.max(this.paddleX-5,0)))},getRandomInterger:function(i){return Math.floor(Math.random()*i)},drawBricks:function(){for(let i=0;i<this.brickRowCount;i++)for(let e=0;e<this.brickColumnCount;e++)if(this.bricks[i][e].exists){const t=e*(this.brickWidth+this.brickPadding)+this.brickOffsetLeft,s=i*(this.brickHeight+this.brickPadding)+this.brickOffsetTop;this.bricks[i][e].x=t,this.bricks[i][e].y=s,this.ctx.drawImage(this.bricks[i][e].image,t,s,this.brickWidth,this.brickHeight)}},drawBgImage:function(){this.bgImage.loaded&&(0===this.mosaicBgImage&&this.createMosaicBgImage(),this.isGameCleared?this.ctx.drawImage(this.bgImage,30,30):this.ctx.putImageData(this.mosaicBgImage,30,30))},createMosaicBgImage:function(){let i,e;for(this.ctx.drawImage(this.bgImage,30,30),i=0;i<this.bgImage.width;i+=this.mosaicSize)for(e=0;e<this.bgImage.height;e+=this.mosaicSize){let t=this.mosaicSize;e+this.mosaicSize>this.bgImage.height&&(t=this.bgImage.height-e),this.blurColor(30+i,30+e,this.mosaicSize,t)}this.mosaicBgImage=this.ctx.getImageData(30,30,this.bgImage.width,this.bgImage.height)},drawTenbouImage:function(){this.ctx.drawImage(this.tenbouImage,this.paddleX,this.canvas.height-this.tenbouImage.height,this.tenbouImage.width,this.tenbouImage.height)},collisionDetection:function(){let i=!0,e=0;for(let t=0;t<this.brickColumnCount;t++)for(let s=0;s<this.brickRowCount;s++){const a=this.bricks[s][t];a.exists&&(e++,i=!1,this.ikkitsuukan?this.x>a.x&&this.x<a.x+this.brickWidth&&this.y>a.y&&this.y<a.y+this.brickHeight&&(a.exists=!1):this.x>a.x&&this.x<a.x+this.brickWidth&&this.y>a.y&&this.y<a.y+this.brickHeight&&(this.isReach||this.breakSe[this.getRandomInterger(this.breakSe.length)].play(),this.dy=-this.dy,a.exists=!1))}1!==e||this.isReach||(this.isReach=!0,this.reachSe.play()),i&&!this.isGameCleared&&(this.isGameCleared=!0,this.clearSe[this.getRandomInterger(this.clearSe.length)].play())},blurColor:function(i,e,t,s){let a,h,n;a=h=n=0;let r=this.ctx.getImageData(i,e,t,s),g=this.ctx.createImageData(t,s);for(let o=0;o<r.data.length;o+=4)a+=r.data[o],h+=r.data[o+1],n+=r.data[o+2];a/=r.data.length/4,h/=r.data.length/4,n/=r.data.length/4,a=Math.ceil(a),h=Math.ceil(h),n=Math.ceil(n);for(let o=0;o<r.data.length;o+=4)g.data[o]=a,g.data[o+1]=h,g.data[o+2]=n,g.data[o+3]=255;this.ctx.putImageData(g,i,e)},onKeyDown:function(i){"Right"===i.key||"ArrowRight"===i.key?this.rightPressed=!0:"Left"===i.key||"ArrowLeft"===i.key?this.leftPressed=!0:"Enter"===i.key&&(this.playing=!0)},onKeyUp:function(i){"Right"===i.key||"ArrowRight"===i.key?this.rightPressed=!1:"Left"!==i.key&&"ArrowLeft"!==i.key||(this.leftPressed=!1)},onVolumeChange:function(){this.volumeValue=this.$refs["volumeSlider"].value,localStorage.setItem("volumeValue",this.volumeValue),this.breakSe.forEach((i=>i.volume=this.volumeValue)),this.gameOverSe.volume=this.volumeValue,this.ikkitsuukanSe.volume=this.volumeValue,this.reachSe.volume=this.volumeValue,this.clearSe.forEach((i=>i.volume=this.volumeValue))}}},_=t(89);const p=(0,_.Z)(f,[["render",d],["__scopeId","data-v-27c51f3f"]]);var v=p,b={name:"App",components:{BrickBreaker:v}};const k=(0,_.Z)(b,[["render",h]]);var w=k;(0,s.ri)(w).mount("#app")},6322:function(i){i.exports="data:image/gif;base64,R0lGODlhewAKALMGAFRagYKFofT09tzd5DM6a7e4x2WOOo+Sq+jo7WRojKCgoP///wAAAAAAAAAAAAAAACH5BAEAAAYALAAAAAB7AAoAAAR00KhJq7046827/6AiLWRpnmiqrmzrvnC8THJtk8eAF2TBL4XDbRijEY8rQmKBIABIBAIJQEAgkNiTMcsdCEhesG4hGHO527N6zTal2zZAgCwnBZ6Lu+ALv737MXUCdXlzeQB7gDZ/io2OKSIhkpOUlZYbBhEAOw=="},9435:function(i,e,t){i.exports=t.p+"img/background.97fec662.png"},8297:function(i,e,t){i.exports=t.p+"media/SE_CHII.5498cea7.wav"},4343:function(i,e,t){i.exports=t.p+"media/SE_DA.888fe027.wav"},989:function(i,e,t){i.exports=t.p+"media/SE_DORA.f4073296.wav"},5320:function(i,e,t){i.exports=t.p+"media/SE_KAN.3d083986.wav"},8781:function(i,e,t){i.exports=t.p+"media/SE_KIRA.2326c83c.wav"},6127:function(i,e,t){i.exports=t.p+"media/SE_NUKI.a5e52aa4.wav"},1257:function(i,e,t){i.exports=t.p+"media/SE_SHA.e7c85c1a.wav"},2226:function(i,e,t){i.exports=t.p+"media/SE_YAKU.e5bcfa6d.wav"},5358:function(i,e,t){i.exports=t.p+"media/chi.8847fae8.wav"},6635:function(i,e,t){i.exports=t.p+"media/kan.9b8669fc.wav"},8063:function(i,e,t){i.exports=t.p+"media/pon.7a690a6e.wav"},2137:function(i,e,t){i.exports=t.p+"media/reach.66a42e7d.wav"},7453:function(i,e,t){i.exports=t.p+"media/ron.0de874a0.wav"},1953:function(i,e,t){i.exports=t.p+"media/tsumo.03f7d2f7.wav"}},e={};function t(s){var a=e[s];if(void 0!==a)return a.exports;var h=e[s]={exports:{}};return i[s](h,h.exports,t),h.exports}t.m=i,function(){var i=[];t.O=function(e,s,a,h){if(!s){var n=1/0;for(m=0;m<i.length;m++){s=i[m][0],a=i[m][1],h=i[m][2];for(var r=!0,g=0;g<s.length;g++)(!1&h||n>=h)&&Object.keys(t.O).every((function(i){return t.O[i](s[g])}))?s.splice(g--,1):(r=!1,h<n&&(n=h));if(r){i.splice(m--,1);var o=a();void 0!==o&&(e=o)}}return e}h=h||0;for(var m=i.length;m>0&&i[m-1][2]>h;m--)i[m]=i[m-1];i[m]=[s,a,h]}}(),function(){t.n=function(i){var e=i&&i.__esModule?function(){return i["default"]}:function(){return i};return t.d(e,{a:e}),e}}(),function(){t.d=function(i,e){for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)}}(),function(){t.p=""}(),function(){var i={143:0};t.O.j=function(e){return 0===i[e]};var e=function(e,s){var a,h,n=s[0],r=s[1],g=s[2],o=0;if(n.some((function(e){return 0!==i[e]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(g)var m=g(t)}for(e&&e(s);o<n.length;o++)h=n[o],t.o(i,h)&&i[h]&&i[h][0](),i[h]=0;return t.O(m)},s=self["webpackChunksenba_brick_breaker"]=self["webpackChunksenba_brick_breaker"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(8265)}));s=t.O(s)})();
//# sourceMappingURL=app.9ad9d368.js.map