(function(){"use strict";var i={6714:function(i,t,e){var s=e(9242),a=e(3396);function h(i,t,e,s,h,n){const r=(0,a.up)("BrickBreaker");return(0,a.wg)(),(0,a.j4)(r)}var n=e.p+"img/volume.708aa8ec.png";const r=i=>((0,a.dD)("data-v-1fdc249d"),i=i(),(0,a.Cn)(),i),o={class:"brickBreaker",align:"center"},g=["width"],m={class:"volume"},c=r((()=>(0,a._)("img",{src:n,width:"30",height:"30"},null,-1))),u=["value"],d=r((()=>(0,a._)("div",null,[(0,a._)("p",null,"Enterキーを押すとスタートするのじゃ！"),(0,a._)("p",null,"左右のカーソルキーで操作するのじゃ！")],-1)));function l(i,t,e,s,h,n){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[(0,a._)("canvas",{ref:"brickBreakerCanvas",width:h.canvasWidth,height:"540"},null,8,g)]),(0,a._)("div",m,[c,(0,a._)("input",{type:"range",ref:"volumeSlider",max:"1",min:"0",step:"0.01",value:h.volumeValue,onChange:t[0]||(t[0]=(...i)=>n.onVolumeChange&&n.onVolumeChange(...i))},null,40,u)]),d],64)}var f={name:"BrickBreaker",data(){return{x:0,y:0,dx:2,dy:3,ballRadius:10,breakSe:[new Audio(e(8063)),new Audio(e(5358)),new Audio(e(6635)),new Audio(e(8297)),new Audio(e(4343)),new Audio(e(5320)),new Audio(e(8781)),new Audio(e(6127)),new Audio(e(1257))],gameOverSe:new Audio(e(2226)),ikkitsuukanSe:new Audio(e(989)),reachSe:new Audio(e(2137)),clearSe:[new Audio(e(7453)),new Audio(e(1953))],paddleX:0,rightPressed:!1,leftPressed:!1,interval:0,brickRowCount:5,brickColumnCount:14,brickWidth:80,brickHeight:30,brickPadding:.1,brickOffsetTop:30,brickOffsetLeft:30,bricks:[],bgImage:new Image,mosaicBgImage:0,mosaicSize:30,ikkitsuukan:!1,isReach:!1,isGameCleared:!1,isGameOver:!1,volumeValue:.3,canvasWidth:960,playing:!1,tenbouImage:new Image,threeColorRuns:["/img/p_ms1_1.gif","/img/p_ms2_1.gif","/img/p_ms3_1.gif","/img/p_ss1_1.gif","/img/p_ss2_1.gif","/img/p_ss3_1.gif","/img/p_ps1_1.gif","/img/p_ps2_1.gif","/img/p_ps3_1.gif","/img/p_ms7_1.gif","/img/p_ms8_1.gif","/img/p_ms9_1.gif","/img/p_ms9_1.gif","/img/p_ms9_1.gif"],thirteenOrphans:["/img/p_ms1_1.gif","/img/p_ms9_1.gif","/img/p_ss1_1.gif","/img/p_ss9_1.gif","/img/p_ps1_1.gif","/img/p_ps9_1.gif","/img/p_ji_e_1.gif","/img/p_ji_s_1.gif","/img/p_ji_w_1.gif","/img/p_ji_n_1.gif","/img/p_no_1.gif","/img/p_ji_h_1.gif","/img/p_ji_c_1.gif","/img/p_ji_c_1.gif"],allGreens:["/img/p_ss2_1.gif","/img/p_ss2_1.gif","/img/p_ss3_1.gif","/img/p_ss3_1.gif","/img/p_ss4_1.gif","/img/p_ss4_1.gif","/img/p_ss6_1.gif","/img/p_ss6_1.gif","/img/p_ss8_1.gif","/img/p_ss8_1.gif","/img/p_ss8_1.gif","/img/p_ji_h_1.gif","/img/p_ji_h_1.gif","/img/p_ji_h_1.gif"],bigDragons:["/img/p_no_1.gif","/img/p_no_1.gif","/img/p_no_1.gif","/img/p_ji_h_1.gif","/img/p_ji_h_1.gif","/img/p_ji_h_1.gif","/img/p_ji_c_1.gif","/img/p_ji_c_1.gif","/img/p_ji_c_1.gif","/img/p_ji_e_1.gif","/img/p_ji_e_1.gif","/img/p_ji_e_1.gif","/img/p_ji_s_1.gif","/img/p_ji_s_1.gif"],nineGates:["/img/p_ms1_1.gif","/img/p_ms1_1.gif","/img/p_ms1_1.gif","/img/p_ms1_1.gif","/img/p_ms2_1.gif","/img/p_ms3_1.gif","/img/p_ms4_1.gif","/img/p_ms5_1.gif","/img/p_ms6_1.gif","/img/p_ms7_1.gif","/img/p_ms8_1.gif","/img/p_ms9_1.gif","/img/p_ms9_1.gif","/img/p_ms9_1.gif"]}},mounted(){this.bgImage.src=e(9435),this.bgImage.onload=function(){this.loaded=!0},this.tenbouImage.src=e(6322),this.tenbouImage.onload=function(){this.loaded=!0};let i=localStorage.getItem("volumeValue");0!==i&&(this.volumeValue=i),this.breakSe.forEach((i=>i.volume=this.volumeValue)),this.gameOverSe.volume=this.volumeValue,this.gameOverSe.onended=function(){alert("もう一回チャレンジするのじゃ！"),document.location.reload(),clearInterval(this.interval)},this.ikkitsuukanSe.volume=this.volumeValue,this.reachSe.volume=this.volumeValue,this.clearSe.forEach((i=>i.volume=this.volumeValue)),this.clearSe.forEach((i=>i.onended=function(){alert("お見事なのじゃ！"),document.location.reload(),clearInterval(this.interval)})),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp);let t=[this.nineGates,this.bigDragons,this.allGreens,this.thirteenOrphans,this.threeColorRuns];for(let e=0;e<this.brickRowCount;e++){this.bricks[e]=[];for(let i=0;i<this.brickColumnCount;i++)this.bricks[e][i]={x:0,y:0,exists:!0,image:new Image},this.bricks[e][i].image.src=t[e][i],this.bricks[e][i].image.onload=function(){this.loaded=!0}}this.brickWidth=this.bricks[0][0].image.width,this.brickHeight=this.bricks[0][0].image.height,this.canvasWidth=this.bricks[0][0].image.width*this.brickColumnCount+60,this.x=this.canvasWidth/2,this.y=this.canvas.height-30,this.paddleX=(this.canvasWidth-this.tenbouImage.width)/2,this.interval=setInterval(this.draw,10)},computed:{canvas(){return this.$refs["brickBreakerCanvas"]},ctx(){return this.canvas.getContext("2d")}},methods:{drawBall:function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.ballRadius,0,2*Math.PI),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()},draw:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBgImage(),this.drawBall(),this.drawTenbouImage(),this.drawBricks(),this.collisionDetection(),this.playing&&(this.x+=this.dx,this.y+=this.dy,(this.x+this.dx>this.canvas.width-this.ballRadius||this.x+this.dx<this.ballRadius)&&(this.dx=-this.dx),this.y+this.dy<this.ballRadius?this.dy=-this.dy:this.y+this.dy>this.canvas.height-this.ballRadius&&(this.x>this.paddleX&&this.x<this.paddleX+this.tenbouImage.width?this.x>this.paddleX+8*this.tenbouImage.width/17&&this.x<this.paddleX+9*this.tenbouImage.width/17?(this.dy=this.dy>0?-5:5,this.dx=this.dx>0?1:-1,this.ikkitsuukan=!0,this.isGameOver||this.ikkitsuukanSe.play()):this.x>this.paddleX+this.tenbouImage.width/4&&this.x<this.paddleX+3*this.tenbouImage.width/4?(this.dy=this.dy>0?-3:3,this.dx=this.dx>0?1:-1,this.ikkitsuukan=!1):(this.dy=this.dy>0?-3:3,this.dx=this.dx>0?2:-2,this.ikkitsuukan=!1):this.isGameCleared||this.isGameOver||(this.isGameOver=!0,this.gameOverSe.play())),this.rightPressed?this.paddleX=Math.min(this.paddleX+5,this.canvas.width-this.tenbouImage.width):this.leftPressed&&(this.paddleX=Math.max(this.paddleX-5,0)))},getRandomInterger:function(i){return Math.floor(Math.random()*i)},drawBricks:function(){for(let i=0;i<this.brickRowCount;i++)for(let t=0;t<this.brickColumnCount;t++)if(this.bricks[i][t].exists){const e=t*(this.brickWidth+this.brickPadding)+this.brickOffsetLeft,s=i*(this.brickHeight+this.brickPadding)+this.brickOffsetTop;this.bricks[i][t].x=e,this.bricks[i][t].y=s,this.bricks[i][t].image.loaded&&this.ctx.drawImage(this.bricks[i][t].image,e,s,this.brickWidth,this.brickHeight)}},drawBgImage:function(){this.bgImage.loaded&&(0===this.mosaicBgImage&&this.createMosaicBgImage(),this.isGameCleared?this.ctx.drawImage(this.bgImage,30,30):this.ctx.putImageData(this.mosaicBgImage,30,30))},createMosaicBgImage:function(){let i,t;for(this.ctx.drawImage(this.bgImage,30,30),i=0;i<this.bgImage.width;i+=this.mosaicSize)for(t=0;t<this.bgImage.height;t+=this.mosaicSize){let e=this.mosaicSize;t+this.mosaicSize>this.bgImage.height&&(e=this.bgImage.height-t),this.blurColor(30+i,30+t,this.mosaicSize,e)}this.mosaicBgImage=this.ctx.getImageData(30,30,this.bgImage.width,this.bgImage.height)},drawTenbouImage:function(){this.tenbouImage.loaded&&this.ctx.drawImage(this.tenbouImage,this.paddleX,this.canvas.height-this.tenbouImage.height,this.tenbouImage.width,this.tenbouImage.height)},collisionDetection:function(){let i=!0,t=0;for(let e=0;e<this.brickColumnCount;e++)for(let s=0;s<this.brickRowCount;s++){const a=this.bricks[s][e];a.exists&&(t++,i=!1,this.ikkitsuukan?this.x>a.x&&this.x<a.x+this.brickWidth&&this.y>a.y&&this.y<a.y+this.brickHeight&&(a.exists=!1):this.x>a.x&&this.x<a.x+this.brickWidth&&this.y>a.y&&this.y<a.y+this.brickHeight&&(this.isReach||this.breakSe[this.getRandomInterger(this.breakSe.length)].play(),this.dy=-this.dy,a.exists=!1))}1!==t||this.isReach||(this.isReach=!0,this.reachSe.play()),i&&!this.isGameCleared&&(this.isGameCleared=!0,this.clearSe[this.getRandomInterger(this.clearSe.length)].play())},blurColor:function(i,t,e,s){let a,h,n;a=h=n=0;let r=this.ctx.getImageData(i,t,e,s),o=this.ctx.createImageData(e,s);for(let g=0;g<r.data.length;g+=4)a+=r.data[g],h+=r.data[g+1],n+=r.data[g+2];a/=r.data.length/4,h/=r.data.length/4,n/=r.data.length/4,a=Math.ceil(a),h=Math.ceil(h),n=Math.ceil(n);for(let g=0;g<r.data.length;g+=4)o.data[g]=a,o.data[g+1]=h,o.data[g+2]=n,o.data[g+3]=255;this.ctx.putImageData(o,i,t)},onKeyDown:function(i){"Right"===i.key||"ArrowRight"===i.key?this.rightPressed=!0:"Left"===i.key||"ArrowLeft"===i.key?this.leftPressed=!0:"Enter"===i.key&&(this.playing=!0)},onKeyUp:function(i){"Right"===i.key||"ArrowRight"===i.key?this.rightPressed=!1:"Left"!==i.key&&"ArrowLeft"!==i.key||(this.leftPressed=!1)},onVolumeChange:function(){this.volumeValue=this.$refs["volumeSlider"].value,localStorage.setItem("volumeValue",this.volumeValue),this.breakSe.forEach((i=>i.volume=this.volumeValue)),this.gameOverSe.volume=this.volumeValue,this.ikkitsuukanSe.volume=this.volumeValue,this.reachSe.volume=this.volumeValue,this.clearSe.forEach((i=>i.volume=this.volumeValue))}}},_=e(89);const p=(0,_.Z)(f,[["render",l],["__scopeId","data-v-1fdc249d"]]);var b=p,v={name:"App",components:{BrickBreaker:b}};const k=(0,_.Z)(v,[["render",h]]);var w=k;(0,s.ri)(w).mount("#app")},6322:function(i){i.exports="data:image/gif;base64,R0lGODlhewAKALMGAFRagYKFofT09tzd5DM6a7e4x2WOOo+Sq+jo7WRojKCgoP///wAAAAAAAAAAAAAAACH5BAEAAAYALAAAAAB7AAoAAAR00KhJq7046827/6AiLWRpnmiqrmzrvnC8THJtk8eAF2TBL4XDbRijEY8rQmKBIABIBAIJQEAgkNiTMcsdCEhesG4hGHO527N6zTal2zZAgCwnBZ6Lu+ALv737MXUCdXlzeQB7gDZ/io2OKSIhkpOUlZYbBhEAOw=="},9435:function(i,t,e){i.exports=e.p+"img/background.97fec662.png"},8297:function(i,t,e){i.exports=e.p+"media/SE_CHII.5498cea7.wav"},4343:function(i,t,e){i.exports=e.p+"media/SE_DA.888fe027.wav"},989:function(i,t,e){i.exports=e.p+"media/SE_DORA.f4073296.wav"},5320:function(i,t,e){i.exports=e.p+"media/SE_KAN.3d083986.wav"},8781:function(i,t,e){i.exports=e.p+"media/SE_KIRA.2326c83c.wav"},6127:function(i,t,e){i.exports=e.p+"media/SE_NUKI.a5e52aa4.wav"},1257:function(i,t,e){i.exports=e.p+"media/SE_SHA.e7c85c1a.wav"},2226:function(i,t,e){i.exports=e.p+"media/SE_YAKU.e5bcfa6d.wav"},5358:function(i,t,e){i.exports=e.p+"media/chi.8847fae8.wav"},6635:function(i,t,e){i.exports=e.p+"media/kan.9b8669fc.wav"},8063:function(i,t,e){i.exports=e.p+"media/pon.7a690a6e.wav"},2137:function(i,t,e){i.exports=e.p+"media/reach.66a42e7d.wav"},7453:function(i,t,e){i.exports=e.p+"media/ron.0de874a0.wav"},1953:function(i,t,e){i.exports=e.p+"media/tsumo.03f7d2f7.wav"}},t={};function e(s){var a=t[s];if(void 0!==a)return a.exports;var h=t[s]={exports:{}};return i[s](h,h.exports,e),h.exports}e.m=i,function(){var i=[];e.O=function(t,s,a,h){if(!s){var n=1/0;for(m=0;m<i.length;m++){s=i[m][0],a=i[m][1],h=i[m][2];for(var r=!0,o=0;o<s.length;o++)(!1&h||n>=h)&&Object.keys(e.O).every((function(i){return e.O[i](s[o])}))?s.splice(o--,1):(r=!1,h<n&&(n=h));if(r){i.splice(m--,1);var g=a();void 0!==g&&(t=g)}}return t}h=h||0;for(var m=i.length;m>0&&i[m-1][2]>h;m--)i[m]=i[m-1];i[m]=[s,a,h]}}(),function(){e.n=function(i){var t=i&&i.__esModule?function(){return i["default"]}:function(){return i};return e.d(t,{a:t}),t}}(),function(){e.d=function(i,t){for(var s in t)e.o(t,s)&&!e.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:t[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){e.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)}}(),function(){e.p=""}(),function(){var i={143:0};e.O.j=function(t){return 0===i[t]};var t=function(t,s){var a,h,n=s[0],r=s[1],o=s[2],g=0;if(n.some((function(t){return 0!==i[t]}))){for(a in r)e.o(r,a)&&(e.m[a]=r[a]);if(o)var m=o(e)}for(t&&t(s);g<n.length;g++)h=n[g],e.o(i,h)&&i[h]&&i[h][0](),i[h]=0;return e.O(m)},s=self["webpackChunksenba_brick_breaker"]=self["webpackChunksenba_brick_breaker"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(6714)}));s=e.O(s)})();
//# sourceMappingURL=app.ca46f4f8.js.map