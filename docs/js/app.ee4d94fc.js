(function(){"use strict";var t={3902:function(t,i,e){var s=e(9242),a=e(3396);function h(t,i,e,s,h,r){const n=(0,a.up)("BrickBreaker");return(0,a.wg)(),(0,a.j4)(n)}var r=e.p+"img/volume.708aa8ec.png";const n=t=>((0,a.dD)("data-v-709ee85a"),t=t(),(0,a.Cn)(),t),o={class:"brickBreaker",align:"center"},l={ref:"brickBreakerCanvas",width:"940",height:"540"},d={class:"volume"},u=n((()=>(0,a._)("img",{src:r,width:"30",height:"30"},null,-1))),c=["value"],f=n((()=>(0,a._)("div",null,[(0,a._)("p",null,"Enterキーを押すとスタートするのじゃ！"),(0,a._)("p",null,"左右のカーソルキーで操作するのじゃ！")],-1)));function v(t,i,e,s,h,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[(0,a._)("canvas",l,null,512)]),(0,a._)("div",d,[u,(0,a._)("input",{type:"range",ref:"volumeSlider",max:"1",min:"0",step:"0.01",value:h.volumeValue,onChange:i[0]||(i[0]=(...t)=>r.onVolumeChange&&r.onVolumeChange(...t))},null,40,c)]),f],64)}var k={name:"BrickBreaker",data(){return{x:0,y:0,dx:2,dy:3,ballRadius:10,breakSe:[new Audio(e(8063)),new Audio(e(5358)),new Audio(e(6635))],gameOverSe:new Audio(e(2226)),ikkitsuukanSe:new Audio(e(989)),reachSe:new Audio(e(2137)),clearSe:[new Audio(e(1086)),new Audio(e(7453)),new Audio(e(1953))],paddleHeight:10,paddleWidth:100,paddleX:0,rightPressed:!1,leftPressed:!1,interval:0,brickRowCount:10,brickColumnCount:11,brickWidth:80,brickHeight:30,brickPadding:.1,brickOffsetTop:30,brickOffsetLeft:30,bricks:[],bgImage:new Image,ikkitsuukan:!1,isReach:!1,isGameCleared:!1,isGameOver:!1,volumeValue:.3}},mounted(){this.x=this.canvas.width/2,this.y=this.canvas.height-30;let t=localStorage.getItem("volumeValue");0!==t&&(this.volumeValue=t),this.breakSe.forEach((t=>t.volume=this.volumeValue)),this.gameOverSe.volume=this.volumeValue,this.gameOverSe.onended=function(){alert("もう一回チャレンジするのじゃ！"),document.location.reload(),clearInterval(this.interval)},this.ikkitsuukanSe.volume=this.volumeValue,this.reachSe.volume=this.volumeValue,this.clearSe.forEach((t=>t.volume=this.volumeValue)),this.clearSe.forEach((t=>t.onended=function(){alert("お見事なのじゃ！"),document.location.reload(),clearInterval(this.interval)})),this.paddleX=(this.canvas.width-this.paddleWidth)/2,document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp);for(let i=0;i<this.brickColumnCount;i++){this.bricks[i]=[];for(let t=0;t<this.brickRowCount;t++)this.bricks[i][t]={x:0,y:0,exists:!0}}this.bgImage.src=e(3107),this.drawBgImage(),this.drawBall(),this.drawPaddle(),this.drawBricks()},computed:{canvas(){return this.$refs["brickBreakerCanvas"]},ctx(){return this.canvas.getContext("2d")}},methods:{drawBall:function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.ballRadius,0,2*Math.PI),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()},draw:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBgImage(),this.drawBall(),this.drawPaddle(),this.drawBricks(),this.collisionDetection(),this.x+=this.dx,this.y+=this.dy,(this.x+this.dx>this.canvas.width-this.ballRadius||this.x+this.dx<this.ballRadius)&&(this.dx=-this.dx),this.y+this.dy<this.ballRadius?this.dy=-this.dy:this.y+this.dy>this.canvas.height-this.ballRadius&&(this.x>this.paddleX&&this.x<this.paddleX+this.paddleWidth?this.x>this.paddleX+8*this.paddleWidth/17&&this.x<this.paddleX+9*this.paddleWidth/17?(this.dy=this.dy>0?-5:5,this.dx=this.dx>0?1:-1,this.ikkitsuukan=!0,this.ikkitsuukanSe.play()):this.x>this.paddleX+this.paddleWidth/4&&this.x<this.paddleX+3*this.paddleWidth/4?(this.dy=this.dy>0?-3:3,this.dx=this.dx>0?1:-1,this.ikkitsuukan=!1):(this.dy=this.dy>0?-3:3,this.dx=this.dx>0?2:-2,this.ikkitsuukan=!1):this.isGameCleared||this.isGameOver||(this.isGameOver=!0,this.gameOverSe.play())),this.rightPressed?this.paddleX=Math.min(this.paddleX+5,this.canvas.width-this.paddleWidth):this.leftPressed&&(this.paddleX=Math.max(this.paddleX-5,0))},getRandomInterger:function(t){return Math.floor(Math.random()*t)},drawPaddle:function(){this.ctx.beginPath(),this.ctx.rect(this.paddleX,this.canvas.height-this.paddleHeight,this.paddleWidth,this.paddleHeight),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()},drawBricks:function(){for(let t=0;t<this.brickColumnCount;t++)for(let i=0;i<this.brickRowCount;i++)if(this.bricks[t][i].exists){const e=t*(this.brickWidth+this.brickPadding)+this.brickOffsetLeft,s=i*(this.brickHeight+this.brickPadding)+this.brickOffsetTop;this.bricks[t][i].x=e,this.bricks[t][i].y=s,this.ctx.beginPath(),this.ctx.rect(e,s,this.brickWidth,this.brickHeight);let a=255-30*t,h=255-30*i;this.ctx.fillStyle="rgb("+Math.floor(a)+", "+Math.floor(h)+", 0)",this.ctx.fill(),this.ctx.closePath()}},drawBgImage:function(){this.ctx.drawImage(this.bgImage,30,30,880,293)},collisionDetection:function(){let t=!0,i=0;for(let e=0;e<this.brickColumnCount;e++)for(let s=0;s<this.brickRowCount;s++){const a=this.bricks[e][s];a.exists&&(i++,t=!1,this.ikkitsuukan?this.x>a.x&&this.x<a.x+this.brickWidth&&this.y>a.y&&this.y<a.y+this.brickHeight&&(a.exists=!1):this.x>a.x&&this.x<a.x+this.brickWidth&&this.y>a.y&&this.y<a.y+this.brickHeight&&(this.isReach||this.breakSe[this.getRandomInterger(this.breakSe.length)].play(),this.dy=-this.dy,a.exists=!1))}1!==i||this.isReach||(this.isReach=!0,this.reachSe.play()),t&&!this.isGameCleared&&(this.isGameCleared=!0,this.clearSe[this.getRandomInterger(this.clearSe.length)].play())},onKeyDown:function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!0:"Left"===t.key||"ArrowLeft"===t.key?this.leftPressed=!0:"Enter"===t.key&&(this.interval=setInterval(this.draw,10))},onKeyUp:function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!1)},onVolumeChange:function(){this.volumeValue=this.$refs["volumeSlider"].value,localStorage.setItem("volumeValue",this.volumeValue),this.breakSe.forEach((t=>t.volume=this.volumeValue)),this.gameOverSe.volume=this.volumeValue,this.ikkitsuukanSe.volume=this.volumeValue,this.reachSe.volume=this.volumeValue,this.clearSe.forEach((t=>t.volume=this.volumeValue))}}},m=e(89);const p=(0,m.Z)(k,[["render",v],["__scopeId","data-v-709ee85a"]]);var g=p,b={name:"App",components:{BrickBreaker:g}};const x=(0,m.Z)(b,[["render",h]]);var w=x;(0,s.ri)(w).mount("#app")},3107:function(t,i,e){t.exports=e.p+"img/background.a335a020.jpg"},1086:function(t,i,e){t.exports=e.p+"media/SE_AGARI.efd0c2e4.wav"},989:function(t,i,e){t.exports=e.p+"media/SE_DORA.f4073296.wav"},2226:function(t,i,e){t.exports=e.p+"media/SE_YAKU.e5bcfa6d.wav"},5358:function(t,i,e){t.exports=e.p+"media/chi.8847fae8.wav"},6635:function(t,i,e){t.exports=e.p+"media/kan.9b8669fc.wav"},8063:function(t,i,e){t.exports=e.p+"media/pon.7a690a6e.wav"},2137:function(t,i,e){t.exports=e.p+"media/reach.66a42e7d.wav"},7453:function(t,i,e){t.exports=e.p+"media/ron.0de874a0.wav"},1953:function(t,i,e){t.exports=e.p+"media/tsumo.03f7d2f7.wav"}},i={};function e(s){var a=i[s];if(void 0!==a)return a.exports;var h=i[s]={exports:{}};return t[s](h,h.exports,e),h.exports}e.m=t,function(){var t=[];e.O=function(i,s,a,h){if(!s){var r=1/0;for(d=0;d<t.length;d++){s=t[d][0],a=t[d][1],h=t[d][2];for(var n=!0,o=0;o<s.length;o++)(!1&h||r>=h)&&Object.keys(e.O).every((function(t){return e.O[t](s[o])}))?s.splice(o--,1):(n=!1,h<r&&(r=h));if(n){t.splice(d--,1);var l=a();void 0!==l&&(i=l)}}return i}h=h||0;for(var d=t.length;d>0&&t[d-1][2]>h;d--)t[d]=t[d-1];t[d]=[s,a,h]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){e.p=""}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,s){var a,h,r=s[0],n=s[1],o=s[2],l=0;if(r.some((function(i){return 0!==t[i]}))){for(a in n)e.o(n,a)&&(e.m[a]=n[a]);if(o)var d=o(e)}for(i&&i(s);l<r.length;l++)h=r[l],e.o(t,h)&&t[h]&&t[h][0](),t[h]=0;return e.O(d)},s=self["webpackChunksenba_brick_breaker"]=self["webpackChunksenba_brick_breaker"]||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(3902)}));s=e.O(s)})();
//# sourceMappingURL=app.ee4d94fc.js.map